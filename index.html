<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Ù…ØªØ¬Ø± Ø¯Ø§Ø±ØºÙˆÙ† Ø³ÙˆØ¯Ø§Ù†ÙŠ</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Tajawal, sans-serif;
}

body{
  background:#050505;
  color:#fff;
  min-height:100vh;
  overflow-x:hidden;
}

#bg{
  position:fixed;
  inset:0;
  z-index:-1;
}

/* ===== HEADER ===== */
header{
  padding:30px 20px;
  text-align:center;
}
header h1{
  font-size:34px;
}
header p{
  opacity:.8;
  margin-top:6px;
}

/* ===== CONTROLS ===== */
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  padding:0 20px 20px;
  justify-content:center;
}
.controls input,
.controls select{
  padding:12px;
  border:none;
  border-radius:12px;
  background:#111;
  color:#fff;
  min-width:200px;
}

/* ===== APPS GRID ===== */
.apps{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
  padding:20px;
}

/* ===== APP CARD ===== */
.app{
  background:rgba(255,255,255,.06);
  border-radius:22px;
  padding:18px;
  backdrop-filter:blur(14px);
  transition:.4s;
  position:relative;
}
.app:hover{
  transform:translateY(-10px);
  background:rgba(255,255,255,.12);
}

.badge{
  position:absolute;
  top:12px;
  left:12px;
  padding:6px 12px;
  border-radius:20px;
  font-size:13px;
}
.free{
  background:#00ff9c;
  color:#000;
}
.paid{
  background:#ff4444;
}

.app img{
  width:100%;
  height:160px;
  object-fit:contain;
  background:#000;
  border-radius:16px;
}

.app h3{
  margin:12px 0 6px;
}
.app p{
  font-size:14px;
  opacity:.85;
  min-height:48px;
}

/* ===== META ===== */
.meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:8px 0;
}
.rate{
  color:gold;
}
.likes{
  cursor:pointer;
}

/* ===== ACTIONS ===== */
.app a{
  display:block;
  margin-top:10px;
  text-align:center;
  padding:12px;
  background:linear-gradient(90deg,#00c6ff,#0072ff);
  color:#000;
  border-radius:14px;
  text-decoration:none;
  font-weight:bold;
}

.codeBox{
  margin-top:10px;
}
.codeBox input{
  width:100%;
  padding:10px;
  border:none;
  border-radius:10px;
  background:#111;
  color:#fff;
}
.codeBox button{
  margin-top:6px;
  width:100%;
  padding:10px;
  border:none;
  border-radius:10px;
  background:#ffc107;
  color:#000;
  font-weight:bold;
}
.info{
  font-size:13px;
  opacity:.75;
  margin-top:6px;
}

/* ===== FOOTER ===== */
footer{
  text-align:center;
  padding:15px;
  opacity:.6;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<header>
  <h1>ğŸ‰ Ù…ØªØ¬Ø± Ø¯Ø§Ø±ØºÙˆÙ† Ø³ÙˆØ¯Ø§Ù†ÙŠ</h1>
  <p>Ù…ØªØ¬Ø± ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø³ÙˆØ¯Ø§Ù†ÙŠ Ø¨Ù†Ø¸Ø§Ù… Ù…Ø¬Ø§Ù†ÙŠ ÙˆÙ…Ø¯ÙÙˆØ¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙˆØ¯</p>
</header>

<div class="controls">
  <input id="search" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† ØªØ·Ø¨ÙŠÙ‚">
  <select id="sort">
    <option value="rate">Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option>
    <option value="name">Ø§Ù„Ø§Ø³Ù…</option>
  </select>
</div>

<section class="apps" id="apps"></section>

<footer>Â© 2025 Dragon Sudan Store</footer>

<script>
let allApps=[];
let likes = JSON.parse(localStorage.getItem("likes")||"{}");
let downloads = JSON.parse(localStorage.getItem("downloads")||"{}");

fetch("apps.json")
.then(r=>r.json())
.then(data=>{
  allApps=data;
  render();
});

function render(){
  const q=search.value.toLowerCase();
  const sort=sortSelect.value;
  let apps=[...allApps];

  if(q){
    apps=apps.filter(a=>a.name.toLowerCase().includes(q));
  }

  if(sort==="rate"){
    apps.sort((a,b)=>b.rate-a.rate);
  }else{
    apps.sort((a,b)=>a.name.localeCompare(b.name));
  }

  const box=document.getElementById("apps");
  box.innerHTML="";

  apps.forEach(a=>{
    const l=likes[a.id]||0;
    const d=downloads[a.id]||0;
    const unlocked = localStorage.getItem("unlock_"+a.id)==="true";

    let action = "";

    if(a.type==="free"){
      action = `
        <a href="${a.apk}" onclick="download(${a.id})">
          ØªØ­Ù…ÙŠÙ„ (${d})
        </a>`;
    }else{
      if(unlocked){
        action = `
          <a href="${a.apk}" onclick="download(${a.id})">
            ØªØ­Ù…ÙŠÙ„ (${d})
          </a>`;
      }else{
        action = `
          <div class="codeBox">
            <input placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„" id="code_${a.id}">
            <button onclick="checkCode(${a.id},'${a.code}')">
              ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            </button>
            <div class="info">
              Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¯ÙÙˆØ¹.<br>
              Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±:<br>
              <b>alsmanu123456@gmail.com</b>
            </div>
          </div>`;
      }
    }

    box.innerHTML+=`
      <div class="app">
        <span class="badge ${a.type}">
          ${a.type==="free"?"Ù…Ø¬Ø§Ù†ÙŠ":"Ù…Ø¯ÙÙˆØ¹"}
        </span>
        <img src="${a.img}">
        <h3>${a.name}</h3>
        <p>${a.desc}</p>
        <div class="meta">
          <div class="rate">â­ ${a.rate}</div>
          <div class="likes" onclick="like(${a.id})">â¤ï¸ ${l}</div>
        </div>
        ${action}
      </div>`;
  });
}

function like(id){
  likes[id]=(likes[id]||0)+1;
  localStorage.setItem("likes",JSON.stringify(likes));
  render();
}

function download(id){
  downloads[id]=(downloads[id]||0)+1;
  localStorage.setItem("downloads",JSON.stringify(downloads));
}

function checkCode(id,real){
  const v=document.getElementById("code_"+id).value.trim();
  if(v===real){
    localStorage.setItem("unlock_"+id,"true");
    alert("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­");
    render();
  }else{
    alert("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­");
  }
}

const search=document.getElementById("search");
const sortSelect=document.getElementById("sort");
search.oninput=render;
sortSelect.onchange=render;
</script>

<!-- ===== LIVE BACKGROUND ===== -->
<script>
const c=document.getElementById("bg");
const ctx=c.getContext("2d");

function resize(){
  c.width=innerWidth;
  c.height=innerHeight;
}
resize();
onresize=resize;

let p=Array.from({length:120},()=>({
  x:Math.random()*c.width,
  y:Math.random()*c.height,
  r:Math.random()*2+1,
  dx:(Math.random()-.5)*0.6,
  dy:(Math.random()-.5)*0.6
}));

(function animate(){
  ctx.clearRect(0,0,c.width,c.height);
  p.forEach(o=>{
    o.x+=o.dx;
    o.y+=o.dy;
    if(o.x<0||o.x>c.width) o.dx*=-1;
    if(o.y<0||o.y>c.height) o.dy*=-1;
    ctx.beginPath();
    ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
    ctx.fillStyle="rgba(0,198,255,.7)";
    ctx.fill();
  });
  requestAnimationFrame(animate);
})();
</script>

</body>
</html>